javascript:(()=>{let e=!0;function t(t){e&&(t=void 0!==t?t:" \n------------------------------",console.log(t))}function n(t){e&&t&&console.dir(t)}function l(e){return e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function i(e,t){e.setAttribute("data-a11y","Accessible: "+!!t),e.style.setProperty("outline",(t?"#09fd":"#f90d")+" solid 8px","important"),e.style.setProperty("outline-offset","-4px","important"),e.style.setProperty("border-radius","2px","important"),e.style.setProperty("filter","initial","important")}function o(e){let n=!!e.hasAttribute("alt");if(t(" - Has alt attribute: "+n),n){let l=e.getAttribute("alt")||"[decorative]";t(" - Image alt value: "+l)}return!!n}function a(e){function n(e){let n=!1,i=l(e)?e.host.nodeName:e.nodeName;t("Checking if "+i+" is hidden");let o=!!e.hidden;if(n=n||o,t(" - Has hidden attribute: "+o),l(e)){t("Running shadow-specific hidden tests");let a=!!e.ariaHidden;n=n||a,t(" - aria-hidden: "+a);let r=!!e.getRootNode().host.ariaHidden;n=n||r,t(" - getRootNode().host.ariaHidden: "+r)}else{t("Running non-shadow hidden tests");let d="none"===getComputedStyle(e).display;n=n||d,t(" - display:none: "+d);let s=!!e.ariaHidden||"true"===e.getAttribute("aria-hidden");n=n||s,t(" - aria-hidden: "+s);let u="presentation"===e.getAttribute("role");n=n||u,t(" - role=presentation: "+u)}return!!n}let i=!1;for(;!i&&e&&"BODY"!==e.nodeName&&"HTML"!==e.nodeName&&e.nodeType!==Node.DOCUMENT_NODE&&e.nodeName;)if(i=i||n(e),e=e.parentNode?e.parentNode:l(e)?e.getRootNode().host.parentNode:null,!i&&e){let o=l(e)?e.host.nodeName:e.nodeName;t("Next parent: "+o)}return t("Either element or a parent is hidden: "+i),!!i}function r(e){let n=!1;t("Checking if <img> is accessible"),n=!!(o(e)||a(e)),t("Image is accessible: "+n),i(e,n)}function d(e){t("Checking if inline <svg> is accessible");let n=!1;n=(n=(n=(n=!!(function n(l){let i=l.querySelector("svg > title"),o=i&&i.textContent;if(t(" - Has <title>: "+!!o),o){let a=e.querySelector("svg > title").textContent||"[unspecified]";t(" - title: "+a)}return!!o}(e)&&function e(n){let l="img"===n.getAttribute("role");return t(" - Has role=img: "+!!l),!!l}(e)))||!!function e(n){let l=n.ariaLabel||n.getAttribute("aria-label"),i=!!l;return t(" - Has aria-label: "+i),i&&t(" - aria-label: "+l),!!i}(e))||!!function e(n){let l=n.ariaLabelledby||n.getAttribute("aria-labelledby"),i=!!l;t(" - Has aria-labelledby: "+i);let o,a=null;if(i){var r;let d;a=!!(o=(r=l,d=(d=d||n.getElementById(r)?n.getElementById(r).textContent:null)||document.getElementById(r)?document.getElementById(r).textContent:null)),t(" - aria-labelledby id: "+l),t(" - aria-labelledby value: "+o)}return!!i}(e))||a(e),t("svg is accessible: "+n),i(e,n)}function s(e){let n=e.querySelectorAll("svg");for(let l of n)t("Located an <svg>"),t(l.outerHTML),d(l),t();let i=e.querySelectorAll("img");for(let o of i)t("Located an <img>"),t(o.outerHTML),r(o),t();0===n.length&&0===i.length&&(t("No <img> or <svg> elements within"),t())}function u(){s(document)}function c(){function e(n,l){l=l+1||1;let i=n.querySelectorAll("*");for(let o of i){let a=o.shadowRoot;if(a){let r=a.host.nodeName||"[unspecified]",d=a.host.id||null;t("Found a nested shadowRoot (nesting level "+l+"): "+r),d&&t("id: "+d),s(a),e(a,l)}}}let n=document.querySelectorAll("*");for(let l of n){let i=l.shadowRoot;if(i){let o=i.host.nodeName||"[unspecified]",a=i.host.id||null;t("Found a shadowRoot: "+o),a&&t("id: "+a),s(i),e(i)}}}function f(){let e=document.querySelectorAll("*");for(let n of e)(n.style.backgroundImage.match("url")||n.style.background.match("url"))&&(t("Background image found. They are not tested."),n.style.setProperty("background-color","#fffd"),n.style.setProperty("background-blend-mode","color"))}t("Initiating Rha11y-img bookmarklet"),t(),u(),c(),f()})();