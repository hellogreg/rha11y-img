<!DOCTYPE html>
<html lang="en">
  <!-- https://rha11y-tools.netlify.app/ -->
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>a11y-scoring-helper bookmarklet demo</title>
    <link rel="stylesheet" href="rha11y-tools.css" rel="stylesheet" />
  </head>
  <body>
    <div class="demo-page">
      <h1><span class="rh-text">a11y-scoring-helper</span> demo</h1>
      <p><a href="index.html">Return to the rha11y-tools homepage</a></p>
      <h2>Getting the bookmarklet</h2>
      <p>
        To get the a11y-scoring-helper bookmarklet, drag the following link to your bookmarks bar.
        You may also click the link directly to use it on this page for testing. (Refresh the page
        to reset it.)
      </p>
      <p>
        <strong
          ><a
            class="book-link"
            href='javascript:(()=>{let e=!0;function t(t){e&&(t=void 0!==t?t:" ",console.log(t))}function n(t){e&&t&&console.dir(t)}function a(){let e=document.title,n=!!e;t(`Page has title: ${n}`),t(`Page title: ${e}`);let a=document.documentElement.lang,o=!!a;return t(`Page has language specified: ${o}`),t(`Page language: ${a}`),{pageTitle:e,hasPageTitle:n,pageLang:a,hasPageLang:o}}function o(e){let t=document.createElement("dialog");document.body.appendChild(t);let n,a,o,l,i,r=e.pageTitle,d=e.hasPageTitle,p=e.pageLang,s=e.hasPageLang;(n=document.createElement("h2")).appendChild(document.createTextNode("Page info")),t.appendChild(n),(i=document.createElement("p")).style.fontStyle="italic",i.appendChild(document.createTextNode("Press [esc] or refresh the page to close this window.")),t.appendChild(i),(a=document.createElement("h3")).appendChild(document.createTextNode("Title")),t.appendChild(a),(o=document.createElement("ul")).style.marginBottom="2rem",(l=document.createElement("li")).appendChild(document.createTextNode("Title present: "+d)),o.appendChild(l),d&&((l=document.createElement("li")).appendChild(document.createTextNode("Page title: "+r)),o.appendChild(l)),t.appendChild(o),(a=document.createElement("h3")).appendChild(document.createTextNode("Language")),t.appendChild(a),(o=document.createElement("ul")).style.marginBottom="2rem",(l=document.createElement("li")).appendChild(document.createTextNode("Language specified: "+s)),o.appendChild(l),s&&((l=document.createElement("li")).appendChild(document.createTextNode("Page language: "+p)),o.appendChild(l)),t.appendChild(o),(i=document.createElement("p")).appendChild(document.createTextNode(" ")),t.appendChild(i),(i=document.createElement("p")).style.fontStyle="italic",i.appendChild(document.createTextNode("Press [esc] or refresh the page to close this window.")),t.appendChild(i),t.showModal()}function l(e){return e=e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.getRootNode().host:e}function i(e){let t=[];return e&&function e(n){let a=n.querySelectorAll("*");for(let o of a){let i=l(o);i.nodeType===Node.ELEMENT_NODE&&t.push(i),o.shadowRoot&&e(o.shadowRoot)}}(e),t}function r(e){return["area","base","basefont","datalist","head","link","meta","noembed","noframes","noscript","param","rp","script","source","style","template","track","title"].includes(e.tagName.toLowerCase())}function d(e){let t=e.role||e.getAttribute("role")||void 0;return t}function p(e){return"a"===e.nodeName.toLowerCase()&&!!e.href}function s(e){let t=d(e);return t&&"link"===t}function c(e){return s(e)?(t("Found link: explicit"),!0):!!p(e)&&!d(e)&&(t("Found link: implicit"),!0)}function u(e){for(let t of e)!r(t)&&c(t)&&(t.style.setProperty("outline","#09fd dotted 4px","important"),t.style.setProperty("outline-offset","2px","important"),t.style.setProperty("border-radius","2px","important"),t.style.setProperty("filter","initial","important"))}function h(e){return"button"===e.nodeName.toLowerCase()||"input"===e.nodeName.toLowerCase()&&"button"===e.type}function f(e){let t=d(e);return t&&"button"===t}function m(e){return f(e)?(t("Found button: explicit"),!0):!!h(e)&&!d(e)&&(t("Found button: implicit"),!0)}function g(e){for(let t of e)!r(t)&&m(t)&&(t.style.setProperty("outline","#f90d dashed 4px","important"),t.style.setProperty("outline-offset","2px","important"),t.style.setProperty("border-radius","2px","important"),t.style.setProperty("filter","initial","important"))}!function e(){t();let n=a();o(n);let l=i(document.body);u(l),g(l),t()}()})();'
            >a11y-scoring-helper</a
          ></strong
        >
      </p>
      <p>
        The a11y-scoring-helper bookmarklet gathers some basic information about the current page.
        When run, the script currently opens a modal that displays the page's title and language
        setting.
      </p>
      <h2>Demo</h2>
      <p>Click the bookmarklet link above to test the info modal.</p>
      <p>
        Here is a <a href="#">link</a> and an
        <span role="link" style="text-decoration: underline">element</span> with a "link" role.
      </p>
      <p>
        Here is a <button>button</button>, an <input type="button" value="input" /> with a button
        type, and an <span role="button" style="outline: 1px solid">element</span> with a "button"
        role.
      </p>
    </div>
  </body>
</html>
