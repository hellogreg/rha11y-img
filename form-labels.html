<!DOCTYPE html>
<html lang="en">
  <!-- https://rha11y-tools.netlify.app/ -->
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>rha11y-form-labels bookmarklet demo</title>
    <link rel="stylesheet" href="rha11y-tools.css" rel="stylesheet" />
    <script src="img-components.js"></script>
  </head>
  <body>
    <div class="demo-page">
      <h1><span class="rh-text">rha11y-form-labels</span> demo</h1>
      <p><a href="index.html">Return to the rha11y-tools homepage</a></p>
      <h2>Getting the bookmarklet</h2>
      <p>
        To get the rha11y-form-labels bookmarklet, drag the following link to your bookmarks bar.
        You may also click the link directly to use it on this page for testing. (Refresh the page
        to reset it.)
      </p>
      <p>
        <strong
          ><a
            class="book-link"
            href='javascript:(()=>{let e=!0;function t(t){e&&(t=void 0!==t?t:" ",console.log(t))}function o(t){e&&t&&console.dir(t)}function n(e){let t=!1;return"input"===e.nodeName.toLowerCase()&&"hidden"!==e.type&&"button"!==e.type&&"submit"!==e.type&&(t=!0),t=(t=(t=(t=t||"meter"===e.nodeName.toLowerCase())||"progress"===e.nodeName.toLowerCase())||"select"===e.nodeName.toLowerCase())||"textarea"===e.nodeName.toLowerCase()}function r(e){return"label"===e.nodeName.toLowerCase()}function l(e){return e=e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.getRootNode().host:e}function a(e,t){e.style.setProperty("outline",(t?"#f90d":"#09fd")+" solid 8px","important"),e.style.setProperty("outline-offset","-4px","important"),e.style.setProperty("border-radius","2px","important"),e.style.setProperty("filter","initial","important")}function d(e,t){for(let o in e){let n=e[o].htmlFor;if(n&&n===t)return!0}return!1}function i(e){e=l(e);let o=!1;for(;!o&&e&&"BODY"!==e.nodeName&&"HTML"!==e.nodeName&&e.nodeType!==Node.DOCUMENT_NODE&&e.nodeName;)t("Next parent: "+(e=l(e=e.parentNode?e.parentNode:null)).nodeName.toLowerCase()),o=o||r(e);return t("Element has parent label: "+!!o),!!o}function p(e){let t=e.labels,o=e.inputs,n=[];for(let r in o){let l=o[r],a=l.id,p=!1;a&&(p=p||d(t,a)),p=p||i(l),n.push(a+" has label: "+p)}return n}function s(e){let t=[],o=[];return!function e(a){let d=a.querySelectorAll("*");for(let i of d){let p=l(i);if(n(p)&&o.push(p),r(p)&&t.push(p),i.shadowRoot){let u=i.shadowRoot;s(u)}}}(e),{labels:t,inputs:o}}function a(e){let t=document.createElement("dialog");document.body.appendChild(t);let o,n,r;for(let l of((o=document.createElement("h2")).appendChild(document.createTextNode("Do the form elements have labels?")),t.appendChild(o),n=document.createElement("ul"),e)){let a=document.createElement("li");a.appendChild(document.createTextNode(l)),n.appendChild(a)}t.appendChild(n),(r=document.createElement("p")).appendChild(document.createTextNode("Press [esc] or refresh to close")),t.appendChild(r),t.showModal()}!function e(){let t=document.body,o=s(t),n=p(o);a(n)}()})();'
            >rha11y-form-labels</a
          ></strong
        >
      </p>
      <p>
        The rha11y-form-labels bookmarklet checks all non-button, non-hidden form inputs on a page
        and opens a modal that lists whether each has an associated (or enclosing) label.
      </p>
      <h2>Test content</h2>
      <p>In the following form...</p>
      <ul>
        <li>The first name field has an associated label (<strong>pass</strong>)</li>
        <li>
          The last name field <em>does not</em> have an associated label (<strong>fail</strong>)
        </li>
        <li>The subscribe checkbox is enclosed within a label (<strong>pass</strong>)</li>
      </ul>

      <form method="post" action="#">
        <p>
          <label for="firstname">First name: </label>
          <input type="text" name="firstname" id="firstname" />
        </p>
        <p>
          Last name:
          <input type="text" name="lastname" id="lastname" />
        </p>
        <p>
          <label
            ><input type="checkbox" name="subscribe" id="subscribe" /> Subscribe to our newsletter
          </label>
        </p>
      </form>
    </div>
    <!--script src="img-checker.js"></script-->
  </body>
</html>
