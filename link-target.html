<!DOCTYPE html>
<html lang="en">
  <!-- https://rha11y-tools.netlify.app/ -->
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>rha11y-link-target bookmarklet demo</title>
    <link rel="stylesheet" href="rha11y-tools.css" rel="stylesheet" />
    <script src="img-components.js"></script>
  </head>
  <body>
    <div class="demo-page">
      <h1><span class="rh-text">rha11y-link-target</span> demo</h1>
      <p><a href="index.html">Return to the rha11y-tools homepage</a></p>
      <h2>Getting the bookmarklet</h2>
      <p>
        To get the rha11y-link-target bookmarklet, drag the following link to your bookmarks bar.
        You may also click the link directly to use it on this page for testing. (Refresh the page
        to reset it.)
      </p>
      <p>
        <strong
          ><a
            class="book-link"
            href='javascript:(()=>{let t=!0;function e(e){t&&(e=void 0!==e?e:" ",console.log(e))}function o(e){t&&e&&console.dir(e)}function n(t){return"a"===t.nodeName.toLowerCase()&&!!t.href}function r(t){return t=t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.getRootNode().host:t}function i(t,e){t.style.setProperty("outline",(e?"#f90d":"#09fd")+" solid 8px","important"),t.style.setProperty("outline-offset","-4px","important"),t.style.setProperty("border-radius","2px","important"),t.style.setProperty("filter","initial","important")}function l(t){let o=t.querySelectorAll("*");for(let f of o){let s=r(f);if(n(s)){let u=s.href||null,d=s.target||null,a=!!d&&"_self"!==d;e("Link: "+s.outerHTML),e("Link href: "+u),e("Link target: "+d),e("Opens new window: "+a),i(s,a),e()}if(f.shadowRoot){let p=f.shadowRoot;l(p)}}}!function t(){let e=document.body;l(e)}()})();'
            >rha11y-link-target</a
          ></strong
        >
      </p>
      <p>
        The rha11y-link-target bookmarklet checks all &lt;a&gt; tags with href attributes and makes
        sure they don't have a target set to open in a new window. When run, links that pass this
        check are outlined in blue, and links that fail are outlined in orange. (Note: this
        bookmarklet only checks the page source and won't catch JavaScripts that open new windows.)
      </p>
      <h2>Test content</h2>
      <p><a>&lt;a&gt; with no href</a> (should be ignored)</p>
      <p><a href="https://www.redhat.com/">Link with no target attribute</a> (should pass)</p>
      <p>
        <a href="https://www.redhat.com/" target="_self">Link with target="_self"</a> (should pass)
      </p>
      <p>
        <a href="https://www.redhat.com/" target="_blank">Link with target="_blank"</a> (should
        fail)
      </p>
      <p>
        <a href="https://www.redhat.com/" target="randomtext">Link with target="randomtext"</a>
        (should fail)
      </p>
    </div>
    <!--script src="img-checker.js"></script-->
  </body>
</html>
